# Сервис по анализу и оптимизации маршрутов городского транспорта на основе подсчета пассажиров на остановках с помощью ИИ 🚍 🚋 🚌

<!--
## 📋 Описание

Этот проект представляет собой систему мониторинга автобусной остановки, которая выполняет следующие функции:


**Обнаружение и отслеживание:**

Распознает людей и автобусы на видео с помощью YOLO модели

Отслеживает перемещение людей с помощью ByteTracker

Подсчитывает количество людей на остановке


**Анализ времени ожидания:**

Измеряет время ожидания каждого человека на остановке

Вычисляет среднее, минимальное и максимальное время ожидания

Фиксирует момент прибытия автобуса


**Работа с базой данных:**

Сохраняет статистику о пассажиропотоке

Регистрирует прибытие автобусов

Хранит данные о времени ожидания пассажиров


**Визуализация:**

Отображает рамки вокруг обнаруженных объектов

Показывает ID каждого отслеживаемого человека

Выводит статистику времени ожидания на экран


Система помогает анализировать загруженность остановки, оптимизировать расписание автобусов и улучшать качество обслуживания пассажиров.

## 🛠️ Технологический стэк

## 📂 Структура репозитория
```
├── ByteTrack/                       # Библиотека для отслеживания объектов
├── database/                        # Модули для работы с базой данных
│   └── manager.py                   # Управление подключением и операциями с БД
├── datasets/                        # Наборы данных для обучения моделей
├── docker/                          # Папка с Docker-файлами
├── models/                          # Модели машинного обучения
├── parsers/                         # Парсеры данных
│   ├── traffic/                     # Данные для обучения парсера трафика
│   ├── parser.py                    # Базовый класс парсера
│   └── timer.py                     # Утилиты для работы со временем
├── samples/                         # Примеры видео для тестирования
├── services/                        # Сервисные модули
├── trackers/                        # Модули отслеживания
│   └── passenger_tracker.py         # Отслеживание пассажиров
├── video/                           # Обработка видео
│   ├── monitor.py                   # Мониторинг видеопотока
│   └── processor.py                 # Обработка кадров
├── main.py                          # Основной файл запуска
└── create_db.py                     # Создание структуры базы данных
```

## 🚀 Установка

## Документация

## Описание реализации

### Сбор данных
### Разметка данных
### Работа парсеров
### Обучение модели
### База данных
### Настройки



## 🧩 Возможности для доработки
* Улучшение трэкинга пассажиров


# Система мониторинга автобусных остановок

Компьютерная система наблюдения и анализа автобусных остановок в режиме реального времени с использованием YOLOv8 и ByteTrack.

## Возможности

- Обнаружение и отслеживание пассажиров в реальном времени
- Анализ времени ожидания
- Мониторинг трафика
- Отслеживание погодных условий
- Интеграция с базой данных для хранения информации
- Автоматизированный сбор данных по расписанию

## Технический стек

- **Обнаружение объектов**: YOLOv8x для детекции людей и транспортных средств
- **Отслеживание объектов**: Алгоритм ByteTrack для точного многообъектного трекинга
- **База данных**: PostgreSQL для хранения данных
- **Планировщик**: APScheduler для автоматизированного сбора данных
- **Дополнительные компоненты**:
  - Парсер погодных данных
  - Парсер дорожной обстановки
  - Парсер расписания автобусов

## Компоненты системы

1. **Обработка видео**
   - Анализ видеопотока в реальном времени
   - Обнаружение и подсчет людей
   - Обнаружение транспортных средств

2. **Отслеживание пассажиров**
   - Индивидуальное отслеживание пассажиров
   - Расчет времени ожидания
   - Анализ паттернов перемещения

3. **Сбор данных**
   - Автоматический сбор погодных данных
   - Мониторинг дорожной обстановки
   - Интеграция расписания автобусов

## Требования

- Python 3.x
- YOLO v8
- PostgreSQL
- Необходимые Python-пакеты указаны в requirements.txt

## Структура проекта

- `/video`: Компоненты обработки и мониторинга видео
- `/trackers`: Алгоритмы и реализации трекинга
- `/parsers`: Модули парсинга данных о погоде, трафике и расписании
- `/models`: Файлы ML-моделей и обучающие ноутбуки
- `/database`: Управление и операции с базой данных

## Использование

1. Настройте подключение к базе данных в config.py
2. Запустите main.py для старта системы мониторинга
3. Просматривайте результаты в настроенном месте вывода

## Конфигурация

Система может быть настроена для различных автобусных остановок путём корректировки:
- Источника видео
- Диапазонов координат для обнаружения
- Интервалов сбора данных
- Параметров базы данных

-->
